# Vim命令速查表

### 光标移动

|           |                                                       |
| --------- | ----------------------------------------------------- |
| h         | 光标左移，同 <Left> 键                                |
| j         | 光标下移，同 <Down> 键                                |
| k         | 光标上移，同 <Up> 键                                  |
| l         | 光标右移，同 <Right> 键                               |
| Ctrl+e    | 向上滚动一行                                          |
| Ctrl+y    | 向下滚动一行                                          |
| Ctrl+u    | 向上滚动半屏 --> move up 1/2 a screen                 |
| Ctrl+d    | 向下滚动半屏 --> move down 1/2 a screen               |
| Ctrl+f    | 向下滚动一屏 --> move forward one full screen         |
| Ctrl+b    | 向上滚动一屏 --> move back one full screen            |
| 0         | 跳到行首（是数字零，不是字母O），效用等同于 <Home> 键 |
| ^         | 跳到从行首开始第一个非空白字符                        |
| $         | 跳到行尾，效用等同于 <End> 键                         |
| gg        | 跳到第一行，效用等同于 Ctrl+<Home>                    |
| G         | 跳到最后一行，效用等同于 Ctrl+<End>                   |
| nG        | 跳到第n行，比如 10G 是移动到第十行                    |
| :n        | 跳到第n行，比如 :10<回车> 是移动到第十行              |
| 10%       | 移动到文件 10% 处                                     |
| 15        | 移动到当前行的 15列                                   |
| w         | 跳到下一个单词开头 (word: 标点或空格分隔的单词)       |
| W         | 跳到下一个单词开头 (WORD: 空格分隔的单词)             |
| e         | 跳到下一个单词尾部 (word: 标点或空格分隔的单词)       |
| E         | 跳到下一个单词尾部 (WORD: 空格分隔的单词)             |
| b         | 跳到上一个单词开头 (word: 标点或空格分隔的单词)       |
| B         | 跳到上一个单词开头 (WORD: 空格分隔的单词)             |
| ge        | 跳到前一个单词结尾                                    |
| )         | 向前移动一个句子（句号分隔）                          |
| (         | 向后移动一个句子（句号分隔）                          |
| }         | 向前移动一个段落（空行分隔）                          |
| {         | 向后移动一个段落（空行分隔）                          |
| <enter>   | 移动到下一行首个非空字符                              |
| n<enter>  | 光标向下移动 n 行                                     |
| +         | 移动到下一行首个非空字符（同回车键）                  |
| -         | 移动到上一行首个非空字符                              |
| H         | 移动到屏幕上部                                        |
| M         | 移动到屏幕中部                                        |
| L         | 移动到屏幕下部                                        |
| <S+Left>  | 按住 SHIFT 按左键，向左移动一个单词                   |
| <S+Right> | 按住 SHIFT 按右键，向右移动一个单词                   |
| <S+Up>    | 按住 SHIFT 按上键，向上翻页                           |
| <S+Down>  | 按住 SHIFT 按下键，向下翻页                           |
| gm        | 移动到行中                                            |
| gj        | 光标向下移动一个屏幕行（忽略自动换行）                |
| gk        | 光标向上移动一个屏幕行（忽略自动换行）                |
| zz        | 调整光标所在行到屏幕中央                              |
| zt        | 调整光标所在行到屏幕上部                              |
| zb        | 调整光标所在行到屏幕下部                              |


### 插入模式

|           |                                                       |
| --------- | ----------------------------------------------------- |
|i                   | 在光标处进入插入模式|
|I                   | 在行首进入插入模式|
|a                   | 在光标后进入插入模式|
|A                   | 在行尾进入插入模式|
|o                   | 在下一行插入新行并进入插入模式|
|O                   | 在上一行插入新行并进入插入模式|
|gi                  | 进入到上一次插入模式的位置|
|<esc>               | 退出插入模式|
|Ctrl+[              | 退出插入模式（等价于 esc 键）|



### 插入模式的命令

|           |                                                       |
| --------- | ----------------------------------------------------- |
|<Up>                | 光标向上移动|
|<Down>              | 光标向下移动|
|<Left>              | 光标向左移动|
|<Right>             | 光标向右移动|
|<S+Left>            | 按住 SHIFT 按左键，向左移动一个单词|
|<S+Right>           | 按住 SHIFT 按右键，向右移动一个单词|
|<S+Up>              | 按住 SHIFT 按上键，向上翻页|
|<S+Down>            | 按住 SHIFT 按下键，向下翻页|
|<PageUp>            | 上翻页|
|<PageDown>          | 下翻页|
|<Delete>            | 删除光标处字符|
|<BS>                | Backspace 向后删除字符|
|<Home>              | 光标跳转行首|
|<End>               | 光标跳转行尾|
|Ctrl+d              | 减少缩进|
|Ctrl+f              | 减少缩进|
|Ctrl+t              | 增加缩进|
|Ctrl+h              | 删除前一个字符，相当于回格键backspace|
|Ctrl+o              | 临时退出插入模式，执行单条命令又返回插入模式|
|Ctrl+u              | 当前行删除到行首所有字符|
|Ctrl+w              | 删除光标前的一个单词|
|Ctrl+\ Ctrl+O       | 临时退出插入模式（光标保持），执行单条命令又返回插入模式|
|Ctrl+R 0            | 插入寄存器（内部 0号剪贴板）内容，Ctrl+R 后可跟寄存器名|
|Ctrl+R "            | 插入匿名寄存器内容，相当于插入模式下 p粘贴|
|Ctrl+R =            | 插入表达式计算结果，等号后面跟表达式|
|Ctrl+R :            | 插入上一次命令行命令|
|Ctrl+R /            | 插入上一次搜索的关键字|
|Ctrl+v {char}       | 插入非数字的字面量|
|Ctrl+v {code}       | 插入用三位数字表示的ascii/unicode字符编码，如Ctrl+v 065|
|Ctrl+v 065          | 插入 10进制 ascii 字符（两数字） 065 即 A字符|
|Ctrl+v x41          | 插入 16进制 ascii 字符（三数字） x41 即 A字符|
|Ctrl+v o101         | 插入  8进制 ascii 字符（三数字） o101 即 A字符|
|Ctrl+v u1234        | 插入 16进制 unicode 字符（四数字）|
|Ctrl+v U12345678    | 插入 16进制 unicode 字符（八数字）|
|Ctrl+K {ch1} {ch2}  | 插入 digraph（见 :h digraph），快速输入日文或符号等|


### 自动补全

|           |                                                       |
| --------- | ----------------------------------------------------- |
|Ctrl+n              | 插入模式下文字自动补全 |
|Ctrl+P              | 插入模式下文字自动补全|
|Ctrl+e              | 有补全列表时，终止这次补全，继续输入|


### 文本编辑

|           |                                                       |
| --------- | ----------------------------------------------------- |
|r                   | 替换当前字符|
|R                   | 进入替换模式，直至 ESC 离开|
|s                   | 替换字符（删除光标处字符，并进入插入模式，前可接数量）|
|S                   | 替换行（删除当前行，并进入插入模式，前可接数量）|
|cc                  | 改写当前行（删除当前行并进入插入模式），同 S|
|cw                  | 改写光标开始处的当前单词|
|ciw                 | 改写光标所处的单词|
|caw                 | 改写光标所处的单词，并且包括前后空格（如果有的话）|
|c0                  | 改写到行首|
|c^                  | 改写到行首（第一个非零字符）|
|c$                  | 改写到行末|
|C                   | 改写到行尾（同c$）|
|ci"                 | 改写双引号中的内容|
|ci'                 | 改写单引号中的内容|
|cib                 | 改写小括号中的内容|
|cab                 | 改写小括号中的内容（包含小括号本身）|
|ci)                 | 改写小括号中的内容|
|ci]                 | 改写中括号中内容|
|ciB                 | 改写大括号中内容|
|caB                 | 改写大括号中的内容（包含大括号本身）|
|ci}                 | 改写大括号中内容|
|cit                 | 改写 xml tag 中的内容|
|cis                 | 改写当前句子|
|c2w                 | 改写下两个单词|
|ct(                 | 改写到小括号前|
|x                   | 删除当前字符，前面可以接数字，3x代表删除三个字符|
|X                   | 向前删除字符|
|dd                  | 删除(剪切)当前行 --> delete (cut) a line |
|d0                  | 删除(剪切)到行首|
|d^                  | 删除(剪切)到行首（第一个非零字符）|
|d$                  | 删除(剪切)到行末|
|D                   | 删除(剪切)到行末（同 d$）|
|dw                  | 删除(剪切)当前单词|
|diw                 | 删除(剪切)光标所处的单词|
|daw                 | 删除(剪切)光标所处的单词，并包含前后空格（如果有的话）|
|di"                 | 删除双引号中的内容|
|di'                 | 删除单引号中的内容|
|dib                 | 删除小括号中的内容|
|di)                 | 删除小括号中的内容|
|dab                 | 删除小括号内的内容（包含小括号本身）|
|di]                 | 删除中括号中内容|
|diB                 | 删除大括号中内容|
|di}                 | 删除大括号中内容|
|daB                 | 删除大括号内的内容（包含大括号本身）|
|dit                 | 删除 xml tag 中的内容|
|dis                 | 删除当前句子|
|d2w                 | 删除下两个单词|
|dt(                 | 删除到小括号前|
|dgg                 | 删除到文件头部|
|dG                  | 删除到文件尾部|
|d}                  | 删除下一段|
|d{                  | 删除上一段|
|10d                 | 删除当前行开始的10行|
|:10d                | 删除第10行|
|:1,10d              | 删除1-10行|
|J                   | 链接多行为一行|
|.                   | 重复上一次操作|
|~                   | 替换大小写|
|g~iw                | 替换当前单词的大小写|
|gUiw                | 将单词转成大写|
|guiw                | 将当前单词转成小写|
|guu                 | 全行转为小写|
|gUU                 | 全行转为大写|
|<<                  | 减少缩进|
|>>                  | 增加缩进|
|==                  | 自动缩进|
|Ctrl+A              | 增加数字|
|Ctrl+X              | 减少数字|


### 复制粘贴

**copy 命令的格式为**：

```
:[range]copy{address}
```

**参数说明**：

- [range] 表示要复制的行范围，其中copy可缩写为 :co 或 :t
- {address} 表示复制的目标位置，这两个参数都可以缺省，用于表示Vim光标所在当前行。

**常用复制粘贴命令**：

|           |                                                       |
| --------- | ----------------------------------------------------- |
|p                   | 粘贴到光标后|
|P                   | 粘贴到光标前|
|v                   | 开始标记|
|y                   | 复制标记内容|
|V                   | 开始按行标记|
|Ctrl+V              | 开始列标记|
|y$                  | 复制当前位置到本行结束的内容|
|yy                  | 复制当前行 --> yank (copy) a line|
|Y                   | 复制当前行，同 yy|
|yiw                 | 复制当前单词|
|3yy                 | 复制光标下三行内容|
|v0                  | 选中当前位置到行首|
|v$                  | 选中当前位置到行末|
|viw                 | 选中当前单词|
|vib                 | 选中小括号内的东西|
|vi)                 | 选中小括号内的东西|
|vi]                 | 选中中括号内的东西|
|viB                 | 选中大括号内的东西|
|vi}                 | 选中大括号内的东西|
|vis                 | 选中句子中的东西|
|vab                 | 选中小括号内的东西（包含小括号本身）|
|va)                 | 选中小括号内的东西（包含小括号本身）|
|va]                 | 选中中括号内的东西（包含中括号本身）|
|vaB                 | 选中大括号内的东西（包含大括号本身）|
|va}                 | 选中大括号内的东西（包含大括号本身）|
|:set paste          | 允许粘贴模式（避免粘贴时自动缩进影响格式）|
|:set nopaste        | 禁止粘贴模式|
|"?yy                | 复制当前行到寄存器 ? ，问号代表 0-9 的寄存器名称|
|"?d3j               | 删除光标下三行内容，并放到寄存器 ? ，问号代表 0-9 的寄存器名称|
|"?p                 | 将寄存器 ? 的内容粘贴到光标后|
|"?P                 | 将寄存器 ? 的内容粘贴到光标前|
|:registers          | 显示所有寄存器内容|
|:[range]y           | 复制范围，比如 :20,30y 是复制20到30行，:10y 是复制第十行|
|:[range]d           | 删除范围，比如 :20,30d 是删除20到30行，:10d 是删除第十行|
|ddp                 | 交换两行内容：先删除当前行复制到寄存器，并粘贴|
|"_[command]         | 使用[command]删除内容，并且不进行复制（不会污染寄存器）|
|"*[command]         | 使用[command]复制内容到系统剪贴板（需要vim版本有clipboard支持）|


### 文本对象

|           |                                                       |
| --------- | ----------------------------------------------------- |
|$                   | 到行末|
|0                   | 到行首|
|^                   | 到行首非空字符|
|iw                  | 整个单词（不包括分隔符）|
|aw                  | 整个单词（包括分隔符）|
|iW                  | 整个 WORD（不包括分隔符）|
|aW                  | 整个 WORD（包括分隔符）|
|is                  | 整个句子（不包括分隔符）|
|ib                  | 小括号内|
|ab                  | 小括号内（包含小括号本身）|
|iB                  | 大括号内|
|aB                  | 大括号内（包含大括号本身）|
|i)                  | 小括号内|
|a)                  | 小括号内（包含小括号本身）|
|i]                  | 中括号内|
|a]                  | 中括号内（包含中括号本身）|
|i}                  | 大括号内|
|a}                  | 大括号内（包含大括号本身）|
|i'                  | 单引号内|
|a'                  | 单引号内（包含单引号本身）|
|i"                  | 双引号内|
|a"                  | 双引号内（包含双引号本身）|
|2i)                 | 往外两层小括号内|
|2a)                 | 往外两层小括号内（包含小括号本身）|
|2f)                 | 到第二个小括号处|
|2t)                 | 到第二个小括号前|


### 撤销与恢复

|           |                                                       |
| --------- | ----------------------------------------------------- |
|u                   | 撤销命令可以组合，例如Nu N是任意整数，表示撤销N步操作，下同|
|U                   | 撤销整行操作|
|Ctrl+r              | 撤销上一次 u 命令|
|Ctrl+R              | 回退前一个命令|


### 查找替换

|           |                                                       |
| --------- | ----------------------------------------------------- |
|/pattern            | 从光标处向文件尾搜索 pattern|
|?pattern            | 从光标处向文件头搜索 pattern|
|n                   | 向同一方向执行上一次搜索|
|N                   | 向相反方向执行上一次搜索|
|*                   | 向前搜索光标下的单词|
|#                   | 向后搜索光标下的单词|
|f<char>             | 向后搜索当前行第一个为 <char> 的字符，2fv 可以找到第二个v字符|
|F<char>             | 向前搜索当前行第一个为 <char> 的字符|
|t<char>             | 向后搜索当前行第一个为 <char> 的字符前|
|T<char>             | 向前搜索当前行第一个为 <char> 的字符前|
|;                   | 重复上次的字符查找命令(f/t命令)|
|,                   | 反转方向查找上次的字符查找命令(f/t命令)|
|tx                  | 搜索当前行到指定 字符串 之前|
|fx                  | 搜索当前行到指定 字符串 之处|


**一般模式下的替换命令：**

```
:[range]s[ubstitute]/{pattern}/{string}/[flags]
```

参数说明：

- pattern：就是要被替换掉的字串，可以用 regexp 來表示
- string：將 pattern 由 string 所取代
- [range]：有以下一些取值：

| [range]取值 | 含义                                                         |
| :---------- | :----------------------------------------------------------- |
| 无          | 默认光标所在行                                               |
| .           | 光标所在当前行                                               |
| N           | 第 N 行                                                      |
| $           | 最后一行                                                     |
| ‘a          | 标记 a 所在的行（之前要用 ma 做过标记）                      |
| $-1         | 倒数第二行，可以对某一行加减某个数值获得确定的某行           |
| 1,10        | 第1~10行                                                     |
| 1,$         | 第一行到最后一行                                             |
| 1,.         | 第一行到当前行                                               |
| .,$         | 当前行到最后一行                                             |
| ‘a,’b       | 标记 a 所在的行 到 标记 b 所在的行（之前要用 ma、mb 做过标记） |
| %           | 所有行（和 1,$ 等价）                                        |
| ?str?       | 从当前位置向上搜索，找到第一个str的行（str可以是正则）       |
| /str/       | 从当前位置向下搜索，找到第一个str的行（str可以是正则）       |

- [flags]有以下一些取值：

| [flags]取值 | 含义                                       |
| :---------- | :----------------------------------------- |
| g           | 对指定范围内的所有匹配项（global）进行替换 |
| c           | 在替换前请求用户进行确认（confirm）        |
| e           | 忽略执行过程中的错误                       |
| i           | 不区分大小写                               |
| 无          | 只在指定范围内的第一个匹配项进行替换       |

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:s/p1/p2/g          | 将当前行中全替换p1为p2|
|:%s/p1/p2/g         | 将当前文件中全替换p1为p2|
|:%s/p1/p2/gc        | 将当前文件中全替换p1为p2，并且每处询问你是否替换|
|:10,20s/p1/p2/g     | 将第10到20行中所有p1替换为p2|
|:%s/1\\2\/3/123/g   | 将“1\2/3” 替换为 “123”（特殊字符使用反斜杠标注）|
|:%s/\r//g           | 删除 DOS 换行符 ^M|
|:%s///gn            | 统计某个模式的匹配个数|
|:%s/^\s*$\n//g      | 删除Vim打开文件中所有空白行|
|:g/^\s*$/d          | 删除Vim打开文件中所有空白行|
|:%s/^M$//g          | 删除Vim文件中显式的 ^M 符号（操作系统换行符问题）|


### 可视模式

|           |                                                       |
| --------- | ----------------------------------------------------- |
|v                   | 切换到面向字符的可视模式|
|V                   | 切换到面向行的可视模式|
|Ctrl-V              | 切换到面向列块的可视模式|
|>                   | 增加缩进|
|<                   | 减少缩进|
|d                   | 删除高亮选中的文字|
|x                   | 删除高亮选中的文字|
|c                   | 改写文字，即删除高亮选中的文字并进入插入模式|
|s                   | 改写文字，即删除高亮选中的文字并进入插入模式|
|y                   | 拷贝文字|
|~                   | 转换大小写|
|o                   | 跳转到标记区的另外一端|
|O                   | 跳转到标记块的另外一端|
|u                   | 标记区转换为小写|
|U                   | 标记区转换为大写|
|gv                  | 重选上次的高亮选区|
|g Ctrl+G            | 显示所选择区域的统计信息|
|ggVG                | 选择全文|
|esc                 | 按esc键退出可视模式|


### 注释命令

**多行注释**

|           |                                                       |
| --------- | ----------------------------------------------------- |
|Ctrl+v              | 进入命令行模式，按Ctrl + v进入可视模式，然后按j, 或者k选中多行，把需要注释的行标记起来|
|I                   | 按大写字母I，再插入注释符，例如#、//|
|esc                 | 按esc键就会全部注释了|


**取消多行注释**

|           |                                                       |
| --------- | ----------------------------------------------------- |
|Ctrl+v              | 进入命令行模式，按Ctrl + v进入可视模式，按字母l横向选中列的个数，例如#、//（需要选中2列）|
|j 或 k              | 按字母j，或者k选中注释符号|
|d                   | 按d键就可全部取消注释|


**复杂注释**

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:起始行号,结束行号s/^/注释符/g（注意冒号）       | 在指定的行首添加注释|
|:起始行号,结束行号s/^注释符//g（注意冒号）       | 在指定的行首取消注释|
| | |
|:3,5 s/^/#/g        | 注释第3-5行|
|:3,5 s/^#//g        | 解除3-5行的注释|
|||
|:1,$ s/^/#/g        | 注释整个文档|
|:1,$ s/^#//g        | 取消注释整个文档|
|||
|:%s/^/#/g           | 注释整个文档，此法更快|
|:%s/^#//g           | 取消注释整个文档|


### 位置跳转

|           |                                                       |
| --------- | ----------------------------------------------------- |
|Ctrl+O              | 跳转到上一个位置|
|Ctrl+I              | 跳转到下一个位置|
|Ctrl+^              | 跳转到 alternate file (当前窗口的上一个文件）|
|%                   | 跳转到 {} () [] 的匹配|
|gd                  | 跳转到局部定义（光标下的单词的定义）|
|gD                  | 跳转到全局定义（光标下的单词的定义）|
|gf                  | 打开名称为光标下文件名的文件|
|[[                  | 跳转到上一个顶层函数（比如C语言以大括号分隔）|
|]]                  | 跳转到下一个顶层函数（比如C语言以大括号分隔）|
|[m                  | 跳转到上一个成员函数|
|]m                  | 跳转到下一个成员函数|
|[{                  | 跳转到上一处未匹配的 {|
|]}                  | 跳转到下一处未匹配的 }|
|[(                  | 跳转到上一处未匹配的 (|
|])                  | 跳转到下一处未匹配的 )|
|[c                  | 上一个不同处（diff时）|
|]c                  | 下一个不同处（diff时）|
|[/                  | 跳转到 C注释开头|
|]/                  | 跳转到 C注释结尾|
|``                  | 回到上次跳转的位置|
|''                  | 回到上次跳转的位置|
|`.                  | 回到上次编辑的位置|
|'.                  | 回到上次编辑的位置|


### 文件操作

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:w                  | 保存文件（会修改文件的时间戳）|
|:w <filename>       | 按名称保存文件|
|:x                  | 保存文件并退出（不会修改文件的时间戳）|
|:e <filename>       | 打开文件并编辑|
|:saveas <filename>  | 另存为文件|
|:o <filename>       | 在当前窗口打开另一个文件|
|:r <filename>       | 读取文件并将内容插入到光标后|
|:r !dir             | 将 dir 命令的输出捕获并插入到光标后|
|:only               | 关闭除光标所在的窗口之外的其他窗口|
|:close              | 关闭光标所在窗口的文件|
|:q                  | 关闭光标所在的窗口并退出|
|:q!                 | 强制退出|
|:qa！               | 关闭所有窗口(不保存)|
|:qall               | 放弃所有操作并退出|
|:wa                 | 保存所有文件|
|:wall               | 保存所有|
|:wqall              | 保存所有并退出。|
|:cd <path>          | 切换 Vim 当前路径|
|:pwd                | 显示 Vim 当前路径|
|:new                | 打开一个新的窗口编辑新文件|
|:enew               | 在当前窗口创建新文件|
|:vnew               | 在左右切分的新窗口中编辑新文件|
|:tabnew             | 在新的标签页中编辑新文件|
|:version            | 查看Vim版本|
|ZZ                  | 保存文件（如果有改动的话），并关闭窗口|
|ZQ                  | 不保存文件关闭窗口|


### 打开文件

|           |                                                       |
| --------- | ----------------------------------------------------- |
|vim filename        | 打开或新建文件，并将光标置于第一行首|
|vim + filename      | 打开文件，并将光标置于最后一行首|
|vim +n filename     | 打开文件，并将光标置于第 n 行首|
|vim -c cmd file     | 在打开文件 file 前，先执行指定的Vim命令cmd|
|vim -b file         | 以二进制模式打开文件，该模式某些特殊字符 (如换行符 ^M) 都可以显示出来|
|vim -d file1 file2  | 使用Vim同时打开 file1 和 file2 文件并diff两个文件的差异|
|vim -r filename     | 在上次正用 vim编辑时发生系统崩溃，恢复文件|
|vim -R file         | 以只读形式打开文件，但是仍然可以使用 :wq! 写入|
|vim -M file         | 强制性关闭修改功能，无法使用 :wq! 写入 |
|vim -o file1 file2  | 终端中要打开vim文件时，横向分割显示多个文件|
|vim -O file1 file2  | 终端中要打开vim文件时，纵向分割显示多个文件|
|vim -x file         | 以加密方式打开文件|
|vim +/target file   | 打开 file 并将光标移动到找到的第一个 target 字符串上|


### 已打开文件操作

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:ls                 | 查案缓存列表|
|:bn                 | 切换到下一个缓存|
|:bp                 | 切换到上一个缓存|
|:bd                 | 删除缓存|
|:b 1                | 切换到1号缓存|
|:b abc              | 切换到文件名为 abc 开头的缓存|
|:badd <filename>    | 将文件添加到缓存列表|
|:set hidden         | 设置隐藏模式（未保存的缓存可以被切换走，或者关闭）|
|:set nohidden       | 关闭隐藏模式（未保存的缓存不能被切换走，或者关闭）|
|n Ctrl+^            | 切换缓存，先输入数字的缓存编号，再按 Ctrl + 6|


### 窗口操作

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:sp <filename>      | 上下切分窗口并在新窗口打开文件 filename|
|:vs <filename>      | 左右切分窗口并在新窗口打开文件 filename|
|:split              | 将当前窗口再复制一个纵向窗口出来，内容同步，游标可以不同|
|:vsplit             | 将当前窗口再复制一个横向窗口出来，内容同步，游标可以不同|
|Ctrl+W s            | 上下切分窗口|
|Ctrl+W v            | 左右切分窗口|
|Ctrl+W w            | 循环切换到下一个窗口|
|Ctrl+W W            | 循环切换到上一个窗口|
|Ctrl+W p            | 跳到上一个访问过的窗口|
|Ctrl+W c            | 关闭当前窗口|
|Ctrl+W o            | 关闭其他窗口|
|Ctrl+W h            | 跳到左边的窗口|
|Ctrl+W j            | 跳到下边的窗口|
|Ctrl+W k            | 跳到上边的窗口|
|Ctrl+W l            | 跳到右边的窗口|
|Ctrl+W +            | 增加当前窗口的行高，前面可以加数字|
|Ctrl+W -            | 减少当前窗口的行高，前面可以加数字|
|Ctrl+W <            | 减少当前窗口的列宽，前面可以加数字|
|Ctrl+W >            | 增加当前窗口的列宽，前面可以加数字|
|Ctrl+W =            | 让所有窗口宽高相同|
|Ctrl+W H            | 将当前窗口移动到最左边|
|Ctrl+W J            | 将当前窗口移动到最下边|
|Ctrl+W K            | 将当前窗口移动到最上边|
|Ctrl+W L            | 将当前窗口移动到最右边|
|Ctrl+W x            | 交换窗口|
|Ctrl+W f            | 在新窗口中打开名为光标下文件名的文件|
|Ctrl+W gf           | 在新标签页中打开名为光标下文件名的文件|
|Ctrl+W R            | 旋转窗口|
|Ctrl+W T            | 将当前窗口移到新的标签页中|
|Ctrl+W P            | 跳转到预览窗口|
|Ctrl+W z            | 关闭预览窗口|
|Ctrl+W _            | 纵向最大化当前窗口|
|Ctrl+W |            | 横向最大化当前窗口|


### 标签页

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:tabs               | 显示所有标签页|
|:tabe <filename>    | 在新标签页中打开文件 filename|
|:tabn               | 下一个标签页|
|:tabp               | 上一个标签页|
|:tabc               | 关闭当前标签页|
|:tabo               | 关闭其他标签页|
|:tabn n             | 切换到第n个标签页，比如 :tabn 3 切换到第三个标签页|
|:tabm n             | 标签移动|
|:tabfirst           | 切换到第一个标签页|
|:tablast            | 切换到最后一个标签页|
|:tab help           | 在标签页打开帮助|
|:tab drop <file>    | 如果文件已被其他标签页和窗口打开则跳过去，否则新标签打开|
|:tab split          | 在新的标签页中打开当前窗口里的文件|
|:tab ball           | 将缓存中所有文件用标签页打开|
|:set showtabline=?  | 设置为 0 就不显示标签页标签，1会按需显示，2会永久显示|
|ngt                 | 切换到第n个标签页，比如 2gt 将会切换到第二个标签页|
|gt                  | 下一个标签页|
|gT                  | 上一个标签页|


### 书签

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:marks              | 显示所有书签|
|ma                  | 保存当前位置到书签 a ，书签名小写字母为文件内，大写全局|
|'a                  | 跳转到书签 a所在的行|
|`a                  | 跳转到书签 a所在位置|
|`.                  | 跳转到上一次编辑的行|
|'A                  | 跳转到全文书签 A|
|['                  | 跳转到上一个书签|
|]'                  | 跳转到下一个书签|
|'<                  | 跳到上次可视模式选择区域的开始|
|'>                  | 跳到上次可视模式选择区域的结束|


### 帮助信息

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:h tutor            | 入门文档|
|:h quickref         | 快速帮助|
|:h index            | 查询 Vim 所有键盘命令定义|
|:h summary          | 帮助你更好的使用内置帮助系统|
|:h Ctrl+H           | 查询普通模式下 Ctrl+H 是干什么的|
|:h i_Ctrl+H         | 查询插入模式下 Ctrl+H 是干什么的|
|:h i_<Up>           | 查询插入模式下方向键上是干什么的|
|:h pattern.txt      | 正则表达式帮助|
|:h eval             | 脚本编写帮助|
|:h function-list    | 查看 VimScript 的函数列表 |
|:h windows.txt      | 窗口使用帮助|
|:h tabpage.txt      | 标签页使用帮助|
|:h +timers          | 显示对 +timers 特性的帮助|
|:h :!               | 查看如何运行外部命令|
|:h tips             | 查看 Vim 内置的常用技巧文档|
|:h set-termcap      | 查看如何设置按键扫描码|
|:viusage            | NORMAL 模式帮助|
|:exusage            | EX 命令帮助|
|:version            | 显示当前 Vim 的版本号和特性|


### 外部命令

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:!command           | 执行一次性shell命令，如下命令：:!pwd|
|:shell              | 启动一个交互的 shell 执行多个命令，exit命令退出并返回 Vim|
|:!ls                | 运行外部命令 ls，并等待返回|
|:r !ls              | 将外部命令 ls 的输出捕获，并插入到光标后|
|:w !sudo tee %      | sudo以后保存当前文件|
|:call system('ls')  | 调用 ls 命令，但是不显示返回内容|
|:!start notepad     | Windows 下启动 notepad，最前面可以加 silent|
|:sil !start cmd     | Windows 下当前目录打开 cmd|
|:%!prog             | 运行文字过滤程序，如整理 json格式 :%!python -m json.tool|


### Quickfix 窗口

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:copen              | 打开 quickfix 窗口（查看编译，grep等信息）|
|:copen 10           | 打开 quickfix 窗口，并且设置高度为 10|
|:cclose             | 关闭 quickfix 窗口|
|:cfirst             | 跳到 quickfix 中第一个错误信息|
|:clast              | 跳到 quickfix 中最后一条错误信息|
|:cc [nr]            | 查看错误 [nr]|
|:cnext              | 跳到 quickfix 中下一个错误信息|
|:cprev              | 跳到 quickfix 中上一个错误信息|


### 拼写检查

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:set spell          | 打开拼写检查|
|:set nospell        | 关闭拼写检查|
|]s                  | 下一处错误拼写的单词|
|[s                  | 上一处错误拼写的单词|
|zg                  | 加入单词到拼写词表中|
|zug                 | 撤销上一次加入的单词|
|z=                  | 拼写建议|


### 代码折叠

|           |                                                       |
| --------- | ----------------------------------------------------- |
|za                  | 切换折叠|
|zA                  | 递归切换折叠|
|zc                  | 折叠光标下代码|
|zC                  | 折叠光标下所有代码|
|zd                  | 删除光标下折叠|
|zD                  | # 递归删除所有折叠|
|zE                  | 删除所有折叠|
|zf                  | 创建代码折叠|
|zF                  | 指定行数创建折叠|
|zi                  | 切换折叠|
|zm                  | 所有代码折叠一层|
|zr                  | 所有代码打开一层|
|zM                  | 折叠所有代码，设置 foldlevel=0，设置 foldenable|
|zR                  | 打开所有代码，设置 foldlevel 为最大值|
|zn                  | 折叠 none，重置 foldenable 并打开所有代码|
|zN                  | 折叠 normal，重置 foldenable 并恢复所有折叠|
|zo                  | 打开一层代码|
|zO                  | 打开光标下所有代码折叠|


### 文档加密解密

**文档加密**

加密方式打开文件时，并在屏幕左下角提示输入密码两次才可进行操作，保存文件退出后必须输入正常密码才能正确打开文件，否则会显示乱码。

|           |                                                       |
| --------- | ----------------------------------------------------- |
|vim -x file_name	| 输入加密密码 -> 确认密码! 注意：不修改内容也要保存。:wq，不然密码设定不会生效。|
|:X 			    | 命令行模式下，输入加密密码 -> 确认密码! 注意：不修改内容也要保存。:wq，不然密码设定不会生效。|
|:set key=密码		| 命令行模式下，输入加密密码 -> 确认密码! 注意：不修改内容也要保存。:wq，不然密码设定不会生效。|


**文档解密**

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:X 			| 命令行模式下，提示输入密码，不输入而是按 Enter。注意：不修改内容也要保存。:wq，不然解密设定不会生效。|
|:set key=		| 命令行模式下，设置key的密码为空。注意：不修改内容也要保存。:wq，不然密码设定不会生效。|


### 宏录制

|           |                                                       |
| --------- | ----------------------------------------------------- |
|qa                  | 开始录制名字为 a 的宏|
|q                   | 结束录制宏|
|@a                  | 播放名字为 a 的宏|
|@@                  | 播放上一个宏|
|@:                  | 重复上一个ex命令（即冒号命令）|


### 其他命令

|           |                                                       |
| --------- | ----------------------------------------------------- |
|Ctrl+X Ctrl+E       | 插入模式下向上滚屏|
|Ctrl+X Ctrl+Y       | 插入模式下向下滚屏|
|Ctrl+G              | 显示正在编辑的文件名，以及大小和位置信息|
|g Ctrl+G            | 显示文件的：大小，字符数，单词数和行数，可视模式下也可用|
|ga                  | 显示光标下字符的 ascii 码或者 unicode 编码|
|g8                  | 显示光标下字符的 utf-8 编码字节序|
|gi                  | 回到上次进入插入的地方，并切换到插入模式|
|K                   | 查询光标下单词的帮助|
|Ctrl+PgUp           | 上个标签页，GVim OK，部分终端软件需设置对应键盘码|
|Ctrl+PgDown         | 下个标签页，GVim OK，部分终端软件需设置对应键盘码|
|Ctrl+R Ctrl+W       | 命令模式下插入光标下单词|
|Ctrl+Insert         | 复制到系统剪贴板（GVIM）|
|Shift+Insert        | 粘贴系统剪贴板的内容（GVIM）|
|:set ff=unix        | 设置换行为 unix|
|:set ff=dos         | 设置换行为 dos|
|:set ff?            | 查看换行设置|
|:set nohl           | 清除搜索高亮|
|:set termcap        | 查看会从终端接收什么以及会发送给终端什么命令|
|:set guicursor=     | 解决 SecureCRT/PenguiNet 中 NeoVim 局部奇怪字符问题|
|:set t_RS= t_SH=    | 解决 SecureCRT/PenguiNet 中 Vim8.0 终端功能奇怪字符|
|:set fo+=a          | 开启文本段的实时自动格式化|
|:earlier 15m        | 回退到15分钟前的文件内容|
|:map                | 来查看当前 Vim 配置的 map 快捷键|
|:inoremap           | 来查看当前 Vim 配置的 inoremap 快捷键|
|:nnoremap           | 来查看当前 Vim 配置的 nnoremap 快捷键|
|:.!date             | 在当前窗口插入时间|
|:%!xxd              | 开始二进制编辑|
|:%!xxd -r           | 保存二进制编辑|
|:r !curl -sL {URL}  | 读取 url 内容添加到光标后|
|:g/^\s*$/d          | 删除空行|
|:g/green/d          | 删除所有包含 green 的行|
|:v/green/d          | 删除所有不包含 green 的行|
|:g/gladiolli/#      | 搜索单词打印结果，并在结果前加上行号|
|:g/ab.*cd.*efg/#    | 搜索包含 ab,cd 和 efg 的行，打印结果以及行号|
|:v/./,/./-j         | 压缩空行|
|:Man bash           | 在 Vim 中查看 man，先调用 :runtime! ftplugin/man.vim 激活|
|/fred\|joe          | 搜索 fred 或者 joe|
|/\<\d\d\d\d\>       | 精确搜索四个数字|
|/^\n\{3}            | 搜索连续三个空行|


### 查看命令历史

命令行模式下：

复制

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:history                | 查看所有命令行模式下输入的命令历史|
|:history search或 / 或？ | 查看搜索历史|




普通模式下：

复制

|           |                                                       |
| --------- | ----------------------------------------------------- |
|q/                  | 查看使用/输入的搜索历史|
|q?                  | 查看使用？输入的搜索历史|
|q:                  | 查看命令行历史|



### 寄存器

**查看寄存器值**

复制

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:reg                   | 查看所有寄存器值|
|:reg "{register_name}  | 查看指定寄存器值|


**调取寄存器值**

复制

|           |                                                       |
| --------- | ----------------------------------------------------- |
|"{register_name}        |普通模式下调取寄存器值|
|:Ctrl+r "寄存器名称     | 命令模式下（输入 Ctrl+r 后Vim会自动打出"寄存器引用符号）|
|Ctrl+r 寄存器名称       | 插入模式下（无需输入寄存器引用符号"）|


**Vim寄存器分类**



| 名称               | 引用方式           | 说明                                                         |
| :----------------- | :----------------- | :----------------------------------------------------------- |
| 无名寄存器         | “”                 | 默认寄存器，所有的复制和修改操作（x、s、d、c、y）都会将该数据复制到无名寄存器 |
| 字母寄存器         | “a - “z 或 “A - “Z | {register_name}只能是一位的26个英文字母，从a-z，A-Z寄存器内容将会合并到对应小写字母内容后边 |
| 复制专用寄存器     | “0（数字0）        | 仅当使用复制操作(y)时，该数据将会同时被复制到无名寄存器和复制专用寄存器 |
| 逐级临时缓存寄存器 | “1 - “9            | 所有不带范围（‘(’，‘)’，‘{’，‘}’）、操作涉及1行以上的删除修改操作（x、s、d、c）的数据都会复制到逐级临时缓存寄存器，并在新的数据加入时，逐级先后推移。1的数据复制到2，2的复制到3，最后的9寄存器内容将会被删除 |
| 黑洞寄存器         | “_                 | 几乎所有的操作涉及的数据都会被复制到寄存器，如果想让操作的数据不经过寄存器，可以指定黑洞寄存器，数据到该寄存器就会消失掉，不能显示，也不存在 |
| 系统剪切板         | “+ 或”*            | 与Vim外部的GUI交互数据时，需要使用专用的系统剪切板           |
| 表达式寄存器       | “=                 | 所有寄存器里最特殊的一个，用于计算表达式。输入完该寄存器应用后，会在命令行里提示“=”，按需输入表达式，结果将会显示到光标处 |
| 其他寄存器         |                    |                                                              |



## Vim设置

编辑Vim配置文件：

复制

|           |                                                       |
| --------- | ----------------------------------------------------- |
|:edit $MYVIMRC      | 在Vim的命令模式下使用该命令打开 vim 配置文件|
|:source $MYVIMRC    | Vim 配置文件的改动后，使用该命令为vim配置文件加载新的配置选项，如果vimrc文件恰好是当前活动的缓冲区，则可把此命令简化为:so %。|


Vim配置说明：

**注：Vim配置可以在命令模式下单个设置，只在当前窗口生效！**

复制

|           |                                                       |
| --------- | ----------------------------------------------------- |
|syntax              | 列出已经定义的语法项|
|syntax clear        | 清除已定义的语法规则|
|syntax on           | 允许语法高亮|
|syntax off          | 禁止语法高亮|
|set history=200     | 记录 200 条历史命令|
|set bs=?            |  设置BS键模式，现代编辑器为 :set bs=eol,start,indent|
|set sw=4            | 设置缩进宽度为 4|
|set ts=4            | 设置制表符宽度为 4|
|set noet            | 设置不展开 tab 成空格|
|set et              | 设置展开 tab 成空格|
|set winaltkeys=no   | 设置 GVim 下正常捕获 ALT 键|
|set nowrap          | 关闭自动换行|
|set ttimeout        | 允许终端按键检测超时（终端下功能键为一串ESC开头的扫描码）|
|set ttm=100         | 设置终端按键检测超时为100毫秒|
|set term=?          | 设置终端类型，比如常见的 xterm|
|set ignorecase      | 设置搜索是否忽略大小写|
|set smartcase       | 智能大小写，默认忽略大小写，除非搜索内容里包含大写字母|
|set list            | 设置显示制表符和换行符|
|set nu              | 设置显示行号，禁止显示行号可以用 :set nonu|
|set number          | 设置显示行号，禁止显示行号可以用 :set nonumber|
|set relativenumber  | 设置显示相对行号（其他行与当前行的距离）|
|set paste           | 进入粘贴模式（粘贴时禁用缩进等影响格式的东西）|
|set nopaste         | 结束粘贴模式|
|set spell           | 允许拼写检查|
|set hlsearch        | 设置高亮查找|
|set ruler           | 总是显示光标位置|
|set nocompatible    | 设置不兼容原始 vi 模式（必须设置在最开头）|
|set incsearch       | 查找输入时动态增量显示查找结果|
|set insertmode      | Vim 始终处于插入模式下，使用 Ctrl+o 临时执行命令|
|set all             | 列出所有选项设置情况|
